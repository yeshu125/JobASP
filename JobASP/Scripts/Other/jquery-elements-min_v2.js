function borderTopMultiSelect(A){jQuery("#"+A.popupId+"_popup").find("div[data-id="+A.dataId+"]").css("border-top","1px #bfbfbf dotted")}function borderTopSingleSelect(A){jQuery("#"+A.container).find("li:eq("+A.afterId+")").css("border-top","1px #bfbfbf dotted")}function wrapper(A){var B=new Array();for(var C=0;C<A.length;C++){B.push({id:A[C].ID,values:A[C].NAME})}return B}function existArray(A,C){for(var B=0;B<C.length;B++){if(C[B]==A){return B}}return -1}function convertToHash(A){var C=new Array();if(typeof A==="string"){C[A]="1";return C}for(var B=0;B<A.length;B++){if(A[B]&&A[B]!=""){C[A[B]+""]="1"}}return C}function convertToHashB(A){var C={};if(typeof A==="string"){C[A]="1";return C}for(var B=0;A&&B<A.length;B++){C[A[B]]="1"}return C}function convertJsonToHash(C){var B=new Array();for(var A=0;C&&A<C.length;A++){B[C[A].id]=C[A].boldvalues}return B}function industryCategoryDep(A){var B=A.valueVariableName;var C=A.topRoleId;jQuery("#"+A.topRoleId+"").find(".traverseKeyboard").removeClass("traverseKeyboard");jQuery("input[name="+B+"]").live("change",function(){indDepSub(A,this)});if(A.parentMainId){jQuery("#"+A.parentMainId+"_popup").find(".select_action input[type=checkbox]").filter(":checked").each(function(){jQuery("#"+A.topRoleId+"_popup").find(".traverseKeyboard").removeClass("traverseKeyboard");indDepSub(A,this)})}}function indDepSub(C,F){var E=C.valueVariableName;var H=C.topRoleId;if(!jQuery("#"+C.childReplaceWithId).is(":visible")){if(jQuery("#topRole_container_exist").val()=="1"){createTopRole();jQuery("#"+C.topRoleId+"_popup").find(".traverseKeyboard").removeClass("traverseKeyboard")}jQuery("#"+C.childReplaceWithId).show();jQuery("#"+C.orWrapperId).addClass("background_or")}var G=jQuery(F).val();var A=jQuery(F).attr("checked");var B=popupid;popupid=H;var D;setTimeout(function(){var I=C.indCat[G];if(A){for(var J=0;I&&J<I.length;J++){var L="selRol_accord_selRol_"+I[J];var K=parseInt(jQuery('div[data-id="'+L+'"]').attr("refdep"));if(!K){K=0}K=K+1;jQuery('div[data-id="'+L+'"]').attr("refdep",K);jQuery('div[data-id="'+L+'"]').addClass("traverseKeyboard").show();jQuery("#"+L).children(".select_item").addClass("traverseKeyboard")}}else{for(var J=0;I&&J<I.length;J++){var L="selRol_accord_selRol_"+I[J];var K=parseInt(jQuery('div[data-id="'+L+'"]').attr("refdep"));K=K-1;jQuery('div[data-id="'+L+'"]').attr("refdep",K);if(K==0){jQuery("#"+L).find(".selected").each(function(){jQuery(this).click()});jQuery('div[data-id="'+L+'"]').removeClass("traverseKeyboard").hide();jQuery("#"+L).removeClass("traverseKeyboard").hide()}}}if(jQuery("#"+C.parentVariableId).find("input[type=checkbox]").filter(":checked").first().attr("checked")==undefined){jQuery("#"+C.childReplaceWithId).hide();jQuery("#"+C.orWrapperId).removeClass("background_or")}else{if(!reOrderTopRoles(C.topRoleId,I)){jQuery("#"+C.childReplaceWithId).hide();jQuery("#"+C.orWrapperId).removeClass("background_or")}}},1);popupid=B}function industryClusterCategoryDep(A){var B=A.valueVariableName;var C=A.topRoleId;jQuery("#"+A.topRoleId+"").find(".traverseKeyboard").removeClass("traverseKeyboard");jQuery("input[name="+B+"]").live("change",function(){indCluDepSub(A,this)});if(A.parentMainId){jQuery("#"+A.parentMainId+"_popup").find(".select_cluster input[type=checkbox]").filter(":checked").each(function(){indCluDepSub(A,this)})}}function indCluDepSub(D,F){var E=D.valueVariableName;var G=D.topRoleId;if(!jQuery("#"+D.childReplaceWithId).is(":visible")){if(jQuery("#topRole_container_exist").val()=="1"){createTopRole();jQuery("#"+D.topRoleId+"_popup").find(".traverseKeyboard").removeClass("traverseKeyboard")}jQuery("#"+D.childReplaceWithId).show();jQuery("#"+D.orWrapperId).addClass("background_or")}var B=jQuery(F).attr("checked");var A=jQuery(F).val();var C=popupid;popupid=G;setTimeout(function(){var H;var K=new Array();for(var L=0;L<D.tIc.length;L++){if(D.tIc[L].id==A){H=D.tIc[L].values;for(var J=0;J<H.length;J++){var M=D.indCat[H[J]];for(var I=0;I<M.length;I++){K.push(M[I])}}}}if(B){for(var L=0;K&&L<K.length;L++){var O="selRol_accord_selRol_"+K[L];var N=parseInt(jQuery('div[data-id="'+O+'"]').attr("refdep"));if(!N){N=0}N=N+1;jQuery('div[data-id="'+O+'"]').attr("refdep",N);jQuery('div[data-id="'+O+'"]').addClass("traverseKeyboard").show();jQuery("#"+O).children(".select_item").addClass("traverseKeyboard")}}else{for(var L=0;K&&L<K.length;L++){var O="selRol_accord_selRol_"+K[L];var N=parseInt(jQuery('div[data-id="'+O+'"]').attr("refdep"));N=N-1;if(!N){N=0}jQuery('div[data-id="'+O+'"]').attr("refdep",N);if(N==0){jQuery("#"+O).find(".selected").each(function(){jQuery(this).click()});jQuery('div[data-id="'+O+'"]').removeClass("traverseKeyboard").hide();jQuery("#"+O).removeClass("traverseKeyboard").hide()}}}if(jQuery("#"+D.parentVariableId).find("input[type=checkbox]").filter(":checked").first().attr("checked")==undefined){jQuery("#"+D.childReplaceWithId).hide();jQuery("#"+D.orWrapperId).removeClass("background_or")}else{if(!reOrderTopRoles(D.topRoleId,K)){jQuery("#"+D.childReplaceWithId).hide();jQuery("#"+D.orWrapperId).removeClass("background_or")}}},1);popupid=C}function reOrderTopRoles(C,I){var J={};var G="refdep";for(var D=0;I&&D<I.length;D++){J[I[D]]=D}var A=jQuery("#"+C+"_popup").find(".select_accord").filter(function(){return jQuery(this).attr("refdep")>=1});var H=new Array();var B=0;var F=new Array();A.each(function(){var N=jQuery(this).attr("refdep");B=B<N?N:B;var L=jQuery(this).data("id").replace(C+"_accord_"+C+"_","");F.push(L);var K=jQuery(this).detach();var M=jQuery("#"+C+"_popup").find(".select_accord_common").filter("#"+K.data("id")).detach();H.push({refdep:N,category:L,main:K,mainValues:M})});if(I){H.sort(function(L,K){if(L.refdep<K.refdep){return 1}else{if(L.refdep==K.refdep){if(J[L.category]<=J[K.category]){return 0}else{return 1}}else{return 0}}})}var E="";for(var D=0;D<H.length;D++){E+=H[D].main.prop("outerHTML")+H[D].mainValues.prop("outerHTML")}jQuery("#"+C+"_popup").find(".select_accord").first().parent().prepend(E);if(!H||H.length==0){return false}else{return true}}function educationStreamDep(A){var B=A.valueVariableName;var C=A.topRoleId;jQuery("#"+A.topRoleId+"_popup").find(".traverseKeyboard").removeClass("traverseKeyboard");jQuery("input[name="+B+"]").live("change",function(){eduDepMain(A,this)});if(A.parentMainId){jQuery("#"+A.parentMainId+"_popup").find("input[type=checkbox]").filter(":checked").each(function(){eduDepMain(A,this)})}}function eduDepMain(B,D){var C=B.valueVariableName;var H=B.topRoleId;var F=jQuery(D).val();var A=jQuery(D).attr("checked");var E=new Array();if(A){var G=parseInt(jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").attr("refdep"));if(!G){G=0}G=G+1;jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").attr("refdep",G);jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").addClass("traverseKeyboard").show();jQuery("#"+H+"_accord_"+H+"_"+F+"").children().addClass("traverseKeyboard");jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").find(".plus_minus").addClass("minus");jQuery("#"+H+"_accord_"+H+"_"+F).addClass("traverseKeyboard").show()}else{var G=parseInt(jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").attr("refdep"));if(!G){G=0}G=G-1;jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").attr("refdep",G);if(G==0){jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").removeClass("traverseKeyboard").hide();jQuery("div[data-id='"+H+"_accord_"+H+"_"+F+"']").find(".plus_minus").removeClass("minus");jQuery("#"+H+"_accord_"+H+"_"+F).removeClass("traverseKeyboard").hide();jQuery("#"+H+"_accord_"+H+"_"+F).children().each(function(){if(jQuery(this).find("input[type=checkbox]").attr("checked")=="checked"){if(existArray(jQuery(this).find("input[type=checkbox]").val(),E)==-1){E.push(jQuery(this).find("input[type=checkbox]").val());jQuery(this).click()}}})}}}function educationStreamClusterDep(A){var B=A.valueVariableName;var C=A.topRoleId;jQuery("input[name="+B+"]").live("change",function(){eduClusterDepSub(A,this)});if(A.parentMainId){jQuery("#"+A.parentMainId+"_popup").find("input[type=checkbox]").filter(":checked").each(function(){eduClusterDepSub(A,this)})}}function eduClusterDepSub(H,B){var A=H.valueVariableName;var D=H.topRoleId;var G=jQuery(B).val();var F=new Array();for(var J in H.tIc){if(H.tIc[J].id==G){for(var I in H.tIc[J].values){var E=jQuery(B).attr("checked");var C=parseInt(jQuery("div[data-id='"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"']").attr("refdep"));if(!C){C=0}if(E){C=C+1}else{C=C-1}jQuery("div[data-id='"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"']").attr("refdep",C);if(C==0){jQuery("div[data-id='"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"']").removeClass("traverseKeyboard").hide();jQuery("div[data-id='"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"']").find(".plus_minus").removeClass("minus");jQuery("#"+D+"_accord_"+D+"_"+H.tIc[J].values[I]).removeClass("traverseKeyboard").hide();jQuery("#"+D+"_accord_"+D+"_"+H.tIc[J].values[I]).children().each(function(){if(jQuery(this).find("input[type=checkbox]").attr("checked")=="checked"){if(existArray(jQuery(this).find("input[type=checkbox]").val(),F)==-1){F.push(jQuery(this).find("input[type=checkbox]").val());jQuery(this).click()}}})}else{jQuery("div[data-id='"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"']").addClass("traverseKeyboard").show();jQuery("#"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"").children().addClass("traverseKeyboard");jQuery("div[data-id='"+D+"_accord_"+D+"_"+H.tIc[J].values[I]+"']").find(".plus_minus").addClass("minus");jQuery("#"+D+"_accord_"+D+"_"+H.tIc[J].values[I]).addClass("traverseKeyboard").show()}}}}}function wrapper_indcatrole(N,M){var F=new Array();categA=[];var C=N[0].children;var I=new Array();var O=wrapper_topRolesOfInd(M);var G=new Array();for(var J=0;J<C.length;J++){F.push({id:C[J].id,values:C[J].name});if(O[C[J].id]){var K=new Array();for(var D=0;D<O[C[J].id].length;D++){K.push(O[C[J].id][D])}I[C[J].id]=K}var B=C[J].children;var P=new Array();for(var H=0;H<B.length;H++){var A=new Array();var L=B[H].name;P.push(B[H].id);for(var E=0;E<B[H].children.length;E++){A.push(B[H].children[E].id)}}G[C[J].id]=P}return{industryA:F,roleInd:I,indCat:G}}function wrapper_map(I){var B=new Array();var A=new Array();var F=new Array();categA=[];var D=I[0].children;for(var H=0;H<D.length;H++){var C=D[H].children;for(var G=0;G<C.length;G++){for(var E=0;E<C[G].children.length;E++){B[C[G].children[E].id]=C[G].children[E].name}if(C[G].id===undefined||C[G].name===undefined){}else{A[C[G].id]=C[G].name}}}return{rolesMap:B,categMap:A}}function wrapper_catRoleData(H,I){var G=[];var A=new Array();var B=new Array();var D=wrapper_topCatRole(I);for(var E=0;E<H.length;E++){var F=new Array();for(var C=0;C<H[E].children.length;C++){F.push(H[E].children[C].id);G.push({id:H[E].children[C].id,values:H[E].children[C].name})}A.push({id:H[E].id,values:F,boldvalues:H[E].name});var F=new Array();if(D[H[E].id]){for(var C=0;C<D[H[E].id].length;C++){F.push(D[H[E].id][C])}B.unshift({id:H[E].id,values:F,boldvalues:H[E].name})}}return{roleA:G,catRole:A,topCatRole:B}}function wrapper_topCatRole(A){var C=new Array();for(var B=0;B<A.length;B++){C[A[B].cat]=A[B].roles}return C}function wrapper_topIndCat(B){var A=new Array();for(var C=0;C<B.length;C++){A[B[C].ind]=B[C].cat}return A}function wrapper_topRolesOfInd(A){var C=new Array();for(var B=0;B<A.length;B++){C[A[B].ind]=A[B].roles}return C}function wrapper_topCatRoleData(B){var D=wrapper_map(indcatrole);var A=[];var G=new Array();for(var E=0;E<B.length;E++){var F=new Array();for(var C=0;C<B[E].roles.length;C++){F.push(B[E].roles[C]);A.push({id:B[E].roles[C],values:D.rolesMap[B[E].roles[C]]})}if(D.categMap[B[E].cat]===undefined){continue}G.push({id:B[E].cat,values:F,boldvalues:D.categMap[B[E].cat]})}return{roleA:A,catRole:G}}function wrapper_cities(C){var A=new Array();for(var B=0;B<C.length;B++){A.push({id:C[B].id,values:C[B].name})}return A}function wrapper_education(B){var H=new Array();var G=new Array();var A=new Array();var F=new Array();for(var E=0;E<B.length;E++){var C=[];for(var D=0;B[E].children&&D<B[E].children.length;D++){H.push({id:B[E].id+"-"+B[E].children[D].id,values:B[E].children[D].name});C.push(B[E].id+"-"+B[E].children[D].id)}G.push({id:B[E].id,boldvalues:B[E].name,values:B[E].name});A.push({id:B[E].id,boldvalues:B[E].name,values:C});F[B[E].id]=C}return{highestDegree:G,eduSpl:H,cluster:A,degSpl:F}}function wrapper_region(A){var C=new Array();for(var B=0;B<A[0].children.length;B++){C.push({id:A[0].children[B].id,values:A[0].children[B].name})}C.push({id:0,values:"Regions",addSpacer:"true"});for(var B=0;B<A[1].children.length;B++){C.push({id:A[1].children[B].id,values:A[1].children[B].name})}return C}function wrapper_ourTopIndCluster(B){var C=new Array();for(var A=0;A<B.length;A++){C.push({id:B[A].id,boldvalues:B[A].name,values:B[A].values})}return C}function wrapper_ourTopEduCluster(A){var C=new Array();for(var B=0;B<A.length;B++){C.push({id:A[B].id,boldvalues:A[B].name,values:A[B].values})}return C}function wrapper_ourTopRegCluster(C){var B=new Array();for(var A=0;A<C.length;A++){B.push({id:C[A].id,boldvalues:C[A].name,values:C[A].values})}return B}function show_large(B){var C=jQuery(B);var A=jQuery(B).parent(".main_header").parent(".selected_items").children(".selected_items_inner");if(A.css("max-height")=="0px"){C.addClass("minus");A.css({"max-height":"80px","overflow-y":"auto"})}else{C.removeClass("minus");A.css({"max-height":"0px","overflow-y":"hidden"})}}function remove_select_action_parent(A){var E=jQuery(A).data("parent");var F=jQuery(A).data("id");jQuery("#"+jQuery(A).data("id")+"_check").removeClass("selected");jQuery('.select_item[data-id="'+jQuery(A).data("id")+'"]').find("input").attr("checked",false).change();var C=jQuery("#"+jQuery(A).data("parent")+"_input");var D=jQuery("#selected_"+jQuery(A).data("parent"));C.val(parseInt(C.val())-parseInt(1));jQuery(A).remove();var B=D.children(".main_header").find(".plus_minus").hasClass("minus");D.children(".main_header").html('<div class="text left" >You have selected '+C.val()+' Item(s)</div><div class="show_large right plus_minus" onclick="show_large(this);" style="cursor:pointer;padding-top:3px;"><div class="clear_both"></div>');if(C.val()==0){jQuery("#"+jQuery(A).data("parent")+"_value").text(jQuery("#hid_"+jQuery(A).data("parent")).val());D.css("display","none")}if(D.children(".main_header").find(".plus_minus")&&B){D.children(".main_header").find(".plus_minus").addClass("minus")}}function remove_all(A){var F=jQuery(A).data("parent");var G=jQuery(A).data("id");var D=G;if(G.match("top_")){D=D.replace("top_","other_");clicked_select_action("div[data-selid='"+D+"']",false,F,"unchecked","")}if(G.match("other_")){D=D.replace("other_","top_");clicked_select_action("div[data-selid='"+D+"']",false,F,"unchecked","")}clicked_select_action("div[data-selid='"+G+"']",true,F,"unchecked","");jQuery(A).remove();return true;jQuery(A).remove();clicked_select_action("div[data-selid='"+jQuery(A).data("id")+"']",true);return true;jQuery("#"+jQuery(A).data("id")+"_check").removeClass("selected");jQuery('.select_action[data-selid="'+jQuery(A).data("id")+'"]').children("input").attr("checked",false).change();var C=jQuery("#"+jQuery(A).data("parent")+"_input");var E=jQuery("#selected_"+jQuery(A).data("parent"));C.val(parseInt(C.val())-parseInt(1));jQuery("#"+jQuery(A).data("parent")+"_value").text(C.val()+" Selected");var B=E.children(".main_header").find(".plus_minus").hasClass("minus");E.children(".main_header").html('<div class="text left" >You have selected '+C.val()+' Item(s)</div><div class="show_large right plus_minus" onclick="show_large(this);" style="cursor:pointer;padding-top:3px;"></div><div class="clear_both"></div>');if(C.val()==0){jQuery("#"+jQuery(A).data("parent")+"_value").text(jQuery("#hid_"+jQuery(A).data("parent")).val());E.css("display","none")}if(E.children(".main_header").find(".plus_minus")&&B){E.children(".main_header").find(".plus_minus").addClass("minus")}}function clicked_select_action(D,E,I,G,J){I=I?I:popupid;var F=jQuery(D).data("selid");var M=jQuery(D).find("#"+F+"_check");var B=jQuery(D).find("input[type=checkbox]").attr("checked")=="checked"?"checked":"unchecked";B=G==""||G==undefined?B:G=="checked"?"unchecked":"checked";if(B=="unchecked"){M.addClass("selected");var K=jQuery("#"+I+"_input");var L=jQuery("#selected_"+I);if(E){K.val(parseInt(K.val())+parseInt(1));var A=L.children(".main_header").find(".plus_minus").hasClass("minus");L.children(".main_header").html('<div class="text left" >You have selected '+K.val()+' Item(s)</div><div class="show_large right plus_minus" onclick="show_large(this);" style="cursor:pointer;padding-top:3px;"></div><div class="clear_both"></div>');if(L.children(".main_header").find(".plus_minus")&&A){L.children(".main_header").find(".plus_minus").addClass("minus")}var C=jQuery("div[data-selid='"+F+"']").first().text();if(J=="bold"){C="<b>"+C+"</b>"}L.children(".selected_items_inner").append('<div class="selected_item" onclick="remove_all(this);" data-id="'+F+'" data-parent="'+I+'"><div class="left">'+C+'</div><div class="right iconclose"></div><div class="clear_both"></div></div>')}var H=jQuery("#selected_"+I).attr("data-hideBottomHeader");if(H=="true"){L.css("display","none");if(E){var N=jQuery("#hid_"+I).val();jQuery("#"+I+"_value").text(N+" ("+K.val()+")")}}else{if(E){L.css("display","block")}}jQuery(D).find("input").attr("checked",true).change();jQuery(D).data("check","checked")}else{M.removeClass("selected");K=jQuery("#"+I+"_input");L=jQuery("#selected_"+I);if(E){K.val(parseInt(K.val())-parseInt(1));L.children(".selected_items_inner").find("div[data-id='"+F+"']").remove();var A=L.children(".main_header").find(".plus_minus").hasClass("minus");L.children(".main_header").html('<div class="text left" >You have selected '+K.val()+' Item(s)</div><div class="show_large right plus_minus" onclick="show_large(this);" style="cursor:pointer;padding-top:3px;"></div><div class="clear_both"></div>');if(L.children(".main_header").find(".plus_minus")&&A){L.children(".main_header").find(".plus_minus").addClass("minus")}var H=jQuery("#selected_"+I).attr("data-hideBottomHeader");if(H=="true"){var N=jQuery("#hid_"+I).val();jQuery("#"+I+"_value").text(N+" ("+K.val()+")")}}jQuery(D).find("input").attr("checked",false).change();if(K.val()==0){L.css("display","none");jQuery("#"+I+"_value").text(jQuery("#hid_"+I).val())}jQuery(D).data("check","unchecked")}}var popupid=null;jQuery(window).load(function(){jQuery("a.main_link").live("click",function(C){C.preventDefault()}).mouseenter(function(){jQuery(this).addClass("active");var D=jQuery("body").width();var C=jQuery(this).parent("li")&&jQuery(this).parent("li").offset()?jQuery(this).parent("li").offset().left:0;jQuery(this).parent("li").children(".submenu").css({width:D+"px",left:"-"+C+"px"});jQuery(this).parent("li").children(".submenu").slideDown("fast")});jQuery("#nav_top > li").mouseleave(function(){if(jQuery(this).children("a").hasClass("active")){}jQuery(this).children("a").removeClass("active");jQuery(this).children(".submenu").stop(true,true).hide()});jQuery("#user_info").mouseenter(function(){jQuery("#userdetails").slideDown("fast")}).mouseleave(function(){jQuery("#userdetails").slideUp("fast")});jQuery(".tab_item").live("click",function(C){if(!jQuery(this).hasClass("active")){jQuery(".tab_item").removeClass("active");jQuery(this).addClass("active");jQuery("#show_search_suggestions").slideUp("fast");jQuery(".both_search_container").stop("true, true").slideUp("fast");jQuery("#"+jQuery(this).attr("id")+"_search").stop("true, true").slideDown("fast")}});jQuery(".search_suggestions").focus(function(){jQuery("#show_search_suggestions").slideDown("fast")});jQuery(".view_searches").live("click",function(C){C.preventDefault();jQuery("#"+jQuery(this).children("a").data("id")).stop(true,true).slideDown("fast")}).mouseleave(function(){jQuery("#"+jQuery(this).children("a").data("id")).stop(true,true).slideUp("fast")});jQuery(".open_singleselect").live("click",function(D){jQuery(".single_select").hide();jQuery(this).children(".single_select").show();if(jQuery(this).hasClass("animatescroll")&&jQuery("#footer_wrapper").length>0){var C=jQuery("#footer_wrapper").offset().top+jQuery("#footer_wrapper").height()-(jQuery(this).offset().top+80);C=(C-(jQuery(this).children(".single_select").height()));if(parseInt(C)>0){}else{C=parseInt(jQuery(window).scrollTop())-C;jQuery("html,body").animate({scrollTop:C},"slow")}}});function A(E,C){var G=E;if(C!=8){var D=jQuery("#"+popupid+"_popup").find(".traverseKeyboard:visible");D.addClass("traverseKeyboardBackSpace").hide().filter(":starts('"+G+"')").show()}else{var D=jQuery("#"+popupid+"_popup").find(".traverseKeyboardBackSpace");D.hide().filter(":starts('"+G+"')").show()}var F=jQuery("#"+popupid+"_popup").find(".select_accord");F.filter(":startsChild('"+G+"')");jQuery("#"+popupid+"_popup").find(".jq4").addClass("ajq4").removeClass("jq4")}function B(){var C=jQuery("#"+popupid+"_popup").find(".traverseKeyboard").show();jQuery("#"+popupid+"_popup").find(".ajq4").removeClass("ajq4").addClass("jq4")}jQuery.expr[":"].starts=function(E,D,F,H){var G=jQuery.trim(jQuery(E).text().toLowerCase()),C=F[3].toLowerCase();C=C.replace("\\","");if(G.indexOf(C)>=0){return true}else{return false}};jQuery.expr[":"].startsChild=function(D,C,E,F){if(jQuery("#"+popupid+"_popup").find("#"+jQuery(D).data("id")).children(":visible").length>0){jQuery(D).show();return true}};jQuery(".open_multi_select").live("click",function(E){if(jQuery(".mn_mainsearch_wrap").length>0){jQuery(".mn_mainsearch_wrap").addClass("nozindex")}if(jQuery("#mn_headershoskele_big").length>0){jQuery("#mn_headershoskele_big").remove();jQuery("#mn_headershoskele_small").show()}popupid=jQuery(this).attr("id");jQuery("#"+popupid+"_popup").toggle();if(jQuery("#"+popupid+"_popup").css("display")=="block"){jQuery("#"+popupid+"_parent").css({"z-index":"9999",position:"absolute","background-color":"#ffffff"});jQuery(".overlay").css("filter","alpha(opacity=50)").show();if(jQuery(this).hasClass("animatescroll")&&jQuery("#footer_wrapper").length>0){var D=jQuery("#footer_wrapper").offset().top+jQuery("#footer_wrapper").height()-jQuery("#"+popupid+"_parent").offset().top;D=(D-(jQuery("#"+popupid+"_parent").height()+jQuery("#"+popupid+"_popup").height()));if(parseInt(D)>0){}else{D=parseInt(jQuery(window).scrollTop())-D;jQuery("html,body").animate({scrollTop:D},"fast")}}if(jQuery(this).hasClass("showoptions")&&jQuery(this).attr("numoptions")){jQuery("#"+jQuery(this).attr("id")+"_popup").find(".select_accord:visible").filter(":gt("+parseInt(jQuery(this).attr("numoptions")-1)+")").removeClass("traverseKeyboard").hide();jQuery("#"+jQuery(this).attr("id")+"_popup").find(".select_accord_common:hidden").each(function(){jQuery("div[data-id='"+jQuery(this).attr("id")+"']").find(".plus_minus").removeClass("minus")})}if(jQuery(this).data("openfirst")==true){var C=jQuery("#"+popupid+"_popup").find(".select_accord:visible").first();if(C.css("visibility")=="visible"||C.css("visibility")=="inherit"){var G=C.data("id");jQuery("#"+popupid+"_popup").find("#"+G).show();jQuery("#"+popupid+"_popup").find('div[data-id="'+G+'"]').find(".plus_minus").addClass("minus")}}jQuery(this).find(".right.clip_image").addClass("closedropdown");var F=popupid+"_typeahead";jQuery("#"+F).val("");jQuery("#"+F).focus();jQuery("#"+F).bind("keyup",function(J){var I=(J.keyCode?J.keyCode:J.which);if((I>=65&&I<=90)||(I>=48&&I<=57)||(I>=97&&I<=122)||(I==8)||(I==46)||(I==173)||(I>=188&&I<=191)){var H=document.getElementById(F).value;if(H){H=H.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").toLowerCase();A(H,I)}else{B()}}else{if(I==27){jQuery(".overlay").click()}}});B()}else{jQuery("#"+popupid+"_parent").css({position:"relative","z-index":"1",background:"none"});jQuery(".overlay").hide();jQuery(this).find(".right.clip_image").removeClass("closedropdown")}});jQuery(".dropdown_small_wrapper").hover(function(){jQuery(this).addClass("dropdown_small_active")}).mouseleave(function(){jQuery(this).removeClass("dropdown_small_active")});jQuery(".overlay").live("click",function(C){jQuery("#"+popupid+"_popup").hide();jQuery("#"+popupid+"_popup").css("top","33px");jQuery("#"+popupid+"_parent").css({position:"relative","z-index":"1",background:"none"});jQuery(this).hide();jQuery("#"+popupid+"_parent").find(".right.clip_image").removeClass("closedropdown");if(jQuery("#tick_alert").length>0){jQuery("#tick_alert").hide()}});jQuery(".close_multiselect").live("click",function(C){jQuery(".overlay").click()});jQuery(".select_action").live("click",function(E){var J=popupid;if(jQuery(this).data("mainid")){popupid=jQuery(this).data("mainid")}var F=jQuery(this).data("ttype");var K="";var C=jQuery(this).data("mainid");var G=jQuery(this).data("val1");if(F=="top"){K="other"}else{if(F=="other"){K="top"}}if(jQuery("#"+popupid+"_parent").find("div[data-selid='"+F+"_"+C+"_"+G+"']").size()>1){var D="top_"+C+"_"+G;var H=jQuery(this).find("input[type=checkbox]").attr("checked");var I=1;jQuery("#"+popupid+"_parent").find('div[data-selid="'+D+'"]').each(function(){if(H==jQuery(this).find("input[type=checkbox]").attr("checked")){if(I==1){clicked_select_action(this,true,popupid,"","")}else{clicked_select_action(this,false,popupid,"","")}I++}})}else{clicked_select_action(this,true,popupid,"","");if(K!=""&&C&&G&&jQuery("div[data-selid='"+K+"_"+C+"_"+G+"']").find("input[type=checkbox]").size()>0&&jQuery(this).find("input[type=checkbox]").attr("checked")!=jQuery("div[data-selid='"+K+"_"+C+"_"+G+"']").find("input[type=checkbox]").attr("checked")){clicked_select_action("div[data-selid='"+K+"_"+C+"_"+G+"']",false,popupid,"","")}}popupid=J});jQuery(".select_action_parent").live("click",function(G){var J=jQuery(this).closest(".select_item").data("id");var F=jQuery(this);var C=jQuery(this).children("input[type=checkbox]").attr("checked")=="checked"?"checked":"unchecked";if(C=="unchecked"){F.addClass("selected");jQuery(this).children("input[type=checkbox]").attr("checked","checked");var H=jQuery("#"+popupid+"_input");var I=jQuery("#selected_"+popupid).first();H.val(parseInt(H.val())+parseInt(1));var D=I.children(".main_header").find(".plus_minus").hasClass("minus");I.children(".main_header").html('<div class="text left">You have selected '+H.val()+' Item(s)</div><div class="show_large right plus_minus" onclick="show_large(this);" style="cursor:pointer;padding-top:3px;"></div><div class="clear_both"></div>');if(I.children(".main_header").find(".plus_minus")&&D){I.children(".main_header").find(".plus_minus").addClass("minus")}I.children(".selected_items_inner").append('<div class="selected_item" onclick="remove_select_action_parent(this);" data-id="'+J+'" data-parent="'+popupid+'"><div class="left"><b>'+jQuery("div[data-id='"+J+"']").first().text()+'</b></div><div class="right iconclose"></div><div class="clear_both"></div></div>');I.css("display","block")}else{F.removeClass("selected");jQuery(this).children("input[type=checkbox]").attr("checked",false);H=jQuery("#"+popupid+"_input");I=jQuery("#selected_"+popupid).first();H.val(parseInt(H.val())-parseInt(1));I.find(".selected_items_inner").find("div[data-id='"+J+"']").remove();var D=I.children(".main_header").find(".plus_minus").hasClass("minus");I.children(".main_header").html('<div class="text left" >You have selected '+H.val()+' Item(s)</div><div class="show_large right plus_minus" onclick="show_large(this);" style="cursor:pointer;padding-top:3px;"></div><div class="clear_both"></div>');if(H.val()==0){I.css("display","none");jQuery("#"+popupid+"_value").text(jQuery("#hid_"+popupid).val())}if(I.children(".main_header").find(".plus_minus")&&D){I.children(".main_header").find(".plus_minus").addClass("minus")}}var E=jQuery("#selected_"+popupid).attr("data-hideBottomHeader");if(E=="true"){I.css("display","none");var K=jQuery("#hid_"+popupid).val();jQuery("#"+popupid+"_value").text(K+" ("+H.val()+")")}else{if(H.val()==0){}else{I.css("display","block")}}});jQuery(".select_cluster").live("click",function(D){var E=jQuery(this).data("selid");var C=jQuery("#"+E+"_check");clicked_select_action(this,true,popupid,"","bold");return true;if(!C.hasClass("selected")){C.addClass("selected");jQuery(this).find("input[type='checkbox']").attr("checked","checked")}else{C.removeClass("selected");jQuery(this).find("input").attr("checked",false)}});jQuery(".select_accord").live("click",function(E){var C=jQuery(this).data("id");var D=jQuery("#"+popupid+"_popup").find("#"+C);if(D.css("display")!="block"){jQuery(this).children(".plus_minus").addClass("minus");D.show()}else{jQuery(this).children(".plus_minus").removeClass("minus");D.hide()}});jQuery(".dropdown_smaller_wrapper").live("click",function(C){jQuery(this).addClass("dropdown_smaller_active")}).mouseleave(function(){jQuery(this).removeClass("dropdown_smaller_active")})});function createTopIndustryClusterLeftRight(B,T,E,J,O,S){S=S?S:"-1";consoleLog("StartcreateTopIndustryClusterLeftRight");var H=B.defaultHidden?B.defaultHidden:"";var P=J+"_accord_"+B.id;var M="";var I=B.values;var F='<div style="display:table; width:97%; padding-top:4px; padding-bottom:4px; background:none" id="more" class="select_item">		                                  <a class="open_more" data-id="open_more'+P+'" href="#">more</a>                                        </div>';F+='<div style="display:none" id="open_more'+P+'">';var U="";var G="left";if(E=="true"){U="margin-left:5px;"}else{G="right"}var Q=0;var K=H;for(var R=0;R<I.length;R++){if(Q!=1&&(R>=10||I[R]=="-1")&&B.displayMore=="true"){Q=1;M+=F}if(O[I[R]]||(B.preSelectedHiddenParentArray&&B.preSelectedHiddenParentArray[B.industryId])){K=""}M+=createTopIndustry({id:J+"_"+I[R],values:T[J+"_"+I[R]],margin_left:U,newId:P,defaultHidden:H,valueVariableName:B.valueVariableName,industryId:B.industryId,inAccordian:true,needBold:B.needBold,idWithoutMain:I[R]},O,T,J,G)}if(Q==1){M+="</div>"}var C;H=K;var N="";var L=B.id;var A="";if(B.preSelectedClusterArray[B.idWithoutMain]){N="checked='checked'";A="selected"}var D=B.boldvalues;if(D.length>31){D=B.boldvalues.substr(0,31)+" ..."}if(E==""){C='<div title="'+B.boldvalues+'" style=" width:97%;font-weight:bold;background:none; cursor:pointer;'+H+';" data-id="'+P+'" class="select_item select_accord jq4 traverseKeyboard"><div class="left ">'+D+'</div>        <div class="right plus_minus"></div> <div class="clear_both"></div>    <div class="clear_left"></div>               </div>'}else{C='<div style="width:99%; background:none; cursor:pointer; '+H+';" title="'+B.boldvalues+'" data-id="'+P+'" class="select_item select_accord traverseKeyboard"><div class="left  select_action_parent check '+A+' " id="'+P+'_check"><input  style="display:none;" type="checkbox" name="'+B.clusterValueVariableName+'" value="'+B.industryId+'" '+N+'></div>        <div class="left" ><b>'+D+'</b></div> <div class="clear_both"></div></div>'}consoleLog("End createTopIndustryClusterLeftRight");return C+'<div style="padding-bottom:5px;display:none;" id="'+P+'" class="select_accord_common jq4">'+M+"</div>"}function createTopIndustryCluster(G,F,J){var I="cluster_"+G.id;var B="";var H=G.values;for(var E=0;E<H.length;E++){B+=F[J+"_"+H[E]]+", "}B=B.substring(0,B.length-2);var A=B;if(A.length>65){A=B.substr(0,65)+" ..."}var D="";var C="";if(G.preSelectedClusterArray[G.idWithoutMain]){D="checked='checked'";C="selected"}return'<div class="select_item select_cluster traverseKeyboard" title="'+B+'" style="display:table; width:97%; padding-top:4px; padding-bottom:3px" data-selid="'+I+'" data-child="'+J+"_"+H.join(","+J+"_")+'"><div class="left  '+C+' check" id="'+I+'_check"><input  style="display:none;" type="checkbox" name="'+G.clusterValueVariableName+'" value="'+G.idWithoutMain+'" '+D+'></div><div class="right" style="width:94%;"><span style="font-weight:bold;">'+G.boldvalues+'</span> <span style="color:#063"> - '+A+'</span></div><div class="clear_both"></div></div>'}function createTopIndustry(F,D,O,K,J){J=J?J:"left";var I="top_"+F.id;var H="cluster_"+F.id;var L="";var B="";var E="left";var C="unchecked";if(J==""){J="right"}consoleLog("Line 448");if(D[F.idWithoutMain]){L="selected";B='checked="checked"';C="checked"}else{B=""}var G=F.defaultHidden==""&&B!=""?F.defaultHidden:"display:table";consoleLog("Line 456");var M=F.margin_left;if(F.inAccordian&&M){M="margin-left:10px;"}if(O[F.id]){var A=O[F.id];if(A.length>45){A=A.substr(0,45)+" ..."}var N='<div class="select_item select_action jq1 traverseKeyboard" title="'+O[F.id]+'" style="'+G+";  "+M+'" data-selid="'+I+'" data-parent="'+H+'" data-check="'+C+'" data-ttype="top" data-mainid="'+K+'" data-val1="'+F.idWithoutMain+'" ><input type="checkbox" name="'+F.valueVariableName+'" value="'+F.idWithoutMain+'" style="display:none;" '+B+' class="'+K+'_checkbox"/><div class="left  '+L+' check" id="'+I+'_check"></div><div class="'+J+'" style="width:195px;"  id="'+I+'_val">'+A+'</div>             <div class="clear_left"></div>                   </div>';return N}else{return""}}function createOtherIndustry(E,D,H){var G="other_"+E.id;var F="cluster_"+E.id;var I="";var B="";var C="unchecked";if(D[E.industryId]){B='checked="checked"';I="selected";C="checked"}else{B=""}var A=E.values;if(A.length>50){A=E.values.substr(0,50)+" ..."}if(E.needBold&&E.needBold[E.industryId]){A="<b>"+A+"</b>"}if(E.addSpacer){return"<div ><span><strong>"+A+"</strong></div>"}else{return'<div class="select_item select_action jq2 traverseKeyboard"  data-selid="'+G+'" data-parent="'+F+'" data-check="'+C+'"  data-ttype="other" data-mainid="'+H+'" data-val1="'+E.industryId+'" ><input type="checkbox" value="'+E.industryId+'" name="'+E.valueVariableName+'" style="display:none;" '+B+'/><div class="left  '+I+' check" id="'+G+'_check"></div><div class="left" style="width:87%;"  title="'+E.values+'" id="'+G+'_val">'+A+'</div><div class="clear_left"></div> </div>'}}var timeTaken=(new Date).getTime();function consoleLog(B){if((new Date).getTime()-timeTaken>0){var A=(new Date).getTime()-timeTaken}timeTaken=(new Date).getTime()}function createCombo(m){consoleLog("start");var S=new Array();var H="";var F=new Array();var t=m.preSelected?m.preSelected.split("_"):[];var g=convertToHash(t);var Q=m.preSelectedHiddenParent?m.preSelectedHiddenParent.split("_"):[];var e=convertToHash(Q);var u=m.preSelectedCluster?m.preSelectedCluster.split("_"):[];var G=convertToHash(u);for(var q=0;q<m.industry.length;q++){S[m.id+"_"+m.industry[q].id]=m.industry[q].values}var W=m.defaultHidden&&m.defaultHidden=="true"?" display:none ":"";topIndustryArrayT=m.topIndustry?typeof m.topIndustry==="string"?m.topIndustry.split("_"):m.topIndustry:[];F=convertToHash(topIndustryArrayT);consoleLog("startTop Industry Loop");for(var q=0;q<topIndustryArrayT.length;q++){H+=createTopIndustry({id:m.id+"_"+topIndustryArrayT[q],valueVariableName:m.valueVariableName,defaultHidden:W,idWithoutMain:topIndustryArrayT[q]},g,S,m.id,"")}consoleLog("EndTop Industry Loop");var A=new Array();var K=0;for(var q=0;q<m.industry.length;q++){if(!F[m.industry[q].id+""]){A[m.id+"_"+m.industry[q].id]=m.industry[q].values;K++}else{continue}}var O=m.numColumns?m.numColumns:"2";var V=convertToHashB(m.bold||"");var f=new Array();for(var q=0;q<m.industry.length;q++){if(A[m.id+"_"+m.industry[q].id]){f.push(createOtherIndustry({id:m.id+"_"+m.industry[q].id,values:m.industry[q].values,valueVariableName:m.valueVariableName,addSpacer:m.industry[q].addSpacer,industryId:m.industry[q].id,needBold:V},g,m.id))}}var N="";var M="";var L="";if(O==1){N=f.join("")}if(O==2){N=f.slice(0,Math.floor(K/2)).join("");M=f.slice(Math.floor(K/2),K).join("")}consoleLog("End otherIndustry Loop");var l="";for(var p=0;m.topIndustryCluster&&p<m.topIndustryCluster.length;p++){if(m.topIndustryLeftRight=="true"||(m.alignStyle&&m.alignStyle=="location")){var R=m.accordian?m.accordian:"";l+=createTopIndustryClusterLeftRight({id:m.id+"_"+m.topIndustryCluster[p].id,boldvalues:m.topIndustryCluster[p].boldvalues,values:m.topIndustryCluster[p].values,valueVariableName:m.valueVariableName,clusterValueVariableName:m.clusterValueVariableName,defaultHidden:W,industryId:m.topIndustryCluster[p].id,preSelectedHiddenParentArray:e,preSelectedClusterArray:G,displayMore:m.displayMore,idWithoutMain:m.topIndustryCluster[p].id},S,R,m.id,g)}else{l+=createTopIndustryCluster({id:m.id+"_"+m.topIndustryCluster[p].id,boldvalues:m.topIndustryCluster[p].boldvalues,values:m.topIndustryCluster[p].values,valueVariableName:m.valueVariableName,clusterValueVariableName:m.clusterValueVariableName,preSelectedClusterArray:G,idWithoutMain:m.topIndustryCluster[p].id},S,m.id)}}consoleLog("End topIndustryCluster Loop");var o=m.id;var B;var J;if(m.height){B=m.height;J=B-40}else{}var U=m.otherIndustryText?m.otherIndustryText:"";var T='<input type="hidden" name="hid_'+m.id+'" id="hid_'+m.id+'" value="'+m.label+'">';var Y=m.wrapperClass?m.wrapperClass:"dropdown_small_wrapper";var c=m.wrapperImageClass?m.wrapperImageClass:"";var I='<div class="selected_items" id="selected_'+o+'">                          <input type="hidden" value="0"  id="'+o+'_input"/>                                 <div class="main_header">                         </div>                        <div class="selected_items_inner" id="selected_'+o+'">                         </div>                     </div>';var b="";if(m.animateScroll){b="animatescroll"}var r="";var d="";if(m.showOptions){r="showoptions";d="numoptions="+m.showOptions}var v="";if(m.innerLabel){v='<div class="select_item jq3">                                             '+m.innerLabel+"                                         </div> "}var E=270;var h=285;if(m.width){E=parseInt(m.width)-65;h=E+15;divwidth=m.width}var P='<div style="display:table; width:100%; padding-top:2px; padding-bottom:1px" class="select_item"><div style="width:'+h+'px; height:30px; font-weight:bold; padding:3px;" class="left"><input type="text" style="width:'+E+'px;font-size:11px;" value="" id="'+m.id+'_typeahead" class="input_style"  autocomplete="off" ></div></div>';if(m.topIndustryLeftRight=="true"){if(m.addInfo=="DIV"){T+=' <div class="field_wrapper" style="position:relative; ">'}T+='	                          <div id="'+o+'_parent"  >                             	<div id="'+o+'" class="'+Y+" open_multi_select "+b+" "+r+'" data-openfirst="'+m.openFirst+'" '+d+' tabindex="'+m.tabindex+'" monstab="'+m.monstab+'" style="width:'+m.width+'px;">                 	<div class="left" id="'+o+'_value">'+m.label+'</div>                     <div class="right clip_image"></div>                     <div class="clear_both"></div>                   </div>  <div id="'+o+'_popup" class="select_popup" style="width:'+m.width+"px; height:"+B+'px; overflow-x:hidden;" data-parent="'+o+'">                     	<div class="select_popup_inner" style="width:100%">           '+P+'              		<div style="width:100%;">                                 <div style="width:240px; margin-left:5px;" class="top_height left">                                     	'+v+"										 										<!-- START increment loop for top industry -->								            "+l+'                             										 								<!-- END increment loop for top industry --> 										                                         				                    </div>                                     </div>                                 <div style="width:100%; margin-left:5px; margin-top:5px;"> 								   </div>                         </div>                     </div></div> '+I;if(m.addInfo=="DIV"){T+=" </div>"}}else{if(m.topEducationCluster=="true"){T+='				<div class="field_wrapper" style="position:relative; ">                             <div id="'+o+'_parent" >                             	<div id="'+o+'" class="'+Y+" open_multi_select "+b+'" tabindex="'+m.tabindex+'" monstab="'+m.monstab+'">                 	<div class="left" id="'+o+'_value">'+m.label+'</div>                     <div class="right clip_image"></div>                     <div class="clear_both"></div>                 </div> <div id="'+o+'_popup" class="select_popup" style="width:'+m.width+"px; height:"+B+'px; overflow-x:hidden;" data-parent="'+o+'">                     	<div class="select_popup_inner" style="width:100%">                         		<div style="width:100%;">                                        	<div style="width:430px;margin-left:5px;" class="left"> 										<div class="select_item jq3" >                                             '+P+m.innerLabel+"                                         </div> 										 										<!-- START increment loop for industry cluster --> 										 										"+l+'  										<!-- END increment loop for industry cluster --> 										                                      </div>                                      <div class="clear_left"></div>                                 </div>                                 <div style="width:100%; margin-left:5px; margin-top:5px;"> 								<div style="width:260px;" class="left">                                     	<div class="select_item jq3" >                                           '+U+"                                           </div> 										 										<!-- START increment loop for first half of other industries --> 										                           "+N+"            									   									   <!-- END increment loop for first half of other industries --> 									                                      </div> 								     </div>                         </div>                     </div></div>"+I+" </div></div> </div>"}else{if(m.onlyAllData=="true"){T+='				<div class="field_wrapper" style="position:relative;">                             <div id="'+o+'_parent"  >                             	<div id="'+o+'"  class="'+Y+" open_multi_select "+b+' " tabindex="'+m.tabindex+'" monstab="'+m.monstab+'" style="width:'+m.width+'px;">                 	<div class="left" id="'+o+'_value">'+m.label+'</div>                     <div class="right clip_image"></div>                     <div class="clear_both"></div>               </div>                       <div id="'+o+'_popup" class="select_popup" style="width:'+m.width+"px; height:"+B+'px; overflow-x:hidden;" data-parent="'+o+'">                         	<div class="select_popup_inner" style="width:100%">                         		<div style="width:100%;">                                        	                                      <div class="clear_left"></div> '+P+'                                </div>                                 <div style="width:100%; margin-left:5px; margin-top:5px;"> 								<div class="left" style="width:260px;">                                     	<div class="select_item jq3">                                             '+U+"                                         </div> 										 										<!-- START increment loop for first half of other industries --> 										                           "+N+"            									   									   <!-- END increment loop for first half of other industries --> 									                                      </div> 								     </div>                         </div>                     </div></div>"+I+" </div></div> </div>"}else{if(m.alignStyle=="location"){var X="";if(m.priorityOption){X=createTopIndustry({id:m.id+"_"+m.priorityOption.id,valueVariableName:m.priorityOption.values,idWithoutMain:m.priorityOption.id},g,S,m.id,"")}var Z="";if(m.countries){var C=m.countries?typeof m.countries==="string"?m.countries.split("_"):m.countries:[];for(var q=0;q<C.length;q++){Z+=createTopIndustry({id:m.id+"_"+C[q],valueVariableName:m.valueVariableName,idWithoutMain:C[q]},g,S,m.id,"")}if(m.countriesTitle){Z='<div class="select_item left jq3">'+m.countriesTitle+"</div>"+Z}}T+='                           <div id="'+o+'_parent" >                                  <div id="'+o+'" class="'+Y+" open_multi_select "+b+'" tabindex="'+m.tabindex+'" monstab="'+m.monstab+'" style="width:'+m.width+'px;" >                  <div class="left" id="'+o+'_value">'+m.label+'</div>                     <div class="right clip_image"></div>                     <div class="clear_both"></div>         </div>                       <div id="'+o+'_popup" class="select_popup" style="width:'+m.width+"px; height:"+B+'px; overflow-x:hidden;" data-parent="'+o+'">                          <div class="select_popup_inner" style="width:100%">                    '+P+'                 <div style="width:100%;">'+X+'<div class="select_item jq3">                                             '+m.topText+"                                         </div>                                                                                                                                                               <!-- START increment loop for top industry -->                                                                      "+H+'                                                                                                                                                                             <!-- END increment loop for top industry -->         <div class="select_item left jq3">                                             '+m.innerLabel+'                                         </div>                              <div style="width:240px; " class="top_height left">                                                                                                                                                                         <!-- START increment loop for top industry -->                                                                      '+l+"                                                                                                                                                                      <!-- END increment loop for top industry -->                                                                                                                                                                        </div>               "+Z+'                      </div>                                 <div style="width:100%; margin-left:5px; margin-top:5px;">                                                                   </div>                  </div>           </div>'+I+" </div> "}else{T+='				<div class="field_wrapper" style="position:relative;">                             <div id="'+o+'_parent"  >                             	<div id="'+o+'" class="'+Y+" open_multi_select "+b+'" tabindex="'+m.tabindex+'" monstab="'+m.monstab+'">                 	<div class="left" id="'+o+'_value">'+m.label+'</div>                     <div class="right clip_image"></div>                     <div class="clear_both"></div>                   </div>          <div id="'+o+'_popup" class="select_popup" style="width:'+m.width+"px; height:"+B+'px; overflow-x:hidden;" data-parent="'+o+'">                         	<div class="select_popup_inner" style="width:100%">        '+P+'                 		<div style="width:100%;display:table;">                                 <div style="width:240px; margin-left:5px;display:table-cell;" class="top_height">                                     	<div class="select_item jq3" >                                             Top Industries                                         </div> 										 										<!-- START increment loop for top industry -->								            '+H+'                             										 								<!-- END increment loop for top industry --> 										                                         				                    </div>                                     <div class="separator" style="display:table-cell;height:auto;">                                   <div class="or_container"></div>                                    </div>                                 	<div  style="width:430px;display:table-cell;"> 										<div class="select_item jq3">                                             Top Industry Clusters                                         </div> 										 										<!-- START increment loop for industry cluster --> 										 										'+l+'  										<!-- END increment loop for industry cluster --> 										                                      </div>                                      <div class="clear_left"></div>                                 </div>                                 <div style="width:100%; margin-left:5px; margin-top:5px;"> 								<div style="width:260px;" class="left">                                     	<div class="select_item jq3" >                                             '+U+"                                         </div> 										 										<!-- START increment loop for first half of other industries --> 										                           "+N+'            									   									   <!-- END increment loop for first half of other industries --> 									                                      </div> 								<div class="left" style=" width:330px; ">                                     	<div class="select_item jq3" >                                             &nbsp;                                         </div> 										<!-- START increment loop for second half of other industries -->     '+M+"                                  			 										<!-- END increment loop for second half of other industries -->                                      </div>                                     </div>                         </div>                     </div></div>"+I+" </div> </div></div>"}}}}jQuery("#"+m.replaceWithId).html(T);jQuery("#selected_"+m.id).attr("data-hideBottomHeader",m.hideBottomHeader);var D=0;if(t.length>0){var k="";for(var q=0;q<t.length;q++){k+=createPreSelectText(t[q],S,F,m.id)}D=1}var n=convertJsonToHash(m.topIndustryCluster);if(u.length>0){var w="";for(var q=0;q<u.length;q++){w+=createPreSelectClusterText(u[q],n,m.id,m.topIndustryLeftRight=="true"||(m.alignStyle&&m.alignStyle=="location"))}D=1}if(D==1){var a=k&&w?k+w:k?k:w;var s=parseInt(u.length)+parseInt(t.length);if(a==undefined){}else{var w='<input type="hidden" id="'+m.id+'_input" value="'+s+'">                                <div class="main_header"><div class="text left">You have selected '+s+' Item(s)</div><div style="cursor:pointer;padding-top:3px;" onclick="show_large(this);" class="show_large right plus_minus"></div><div class="clear_both"></div></div>                           <div class="selected_items_inner" style="max-height: 80px;"> '+a+" </div>                    ";jQuery("#selected_"+m.id).html(w);var x=jQuery("#selected_"+m.id).attr("data-hideBottomHeader");if(x=="true"){jQuery("#selected_"+m.id).css("display","none");jQuery("#"+o+"_value").text(m.label+" ("+s+")")}else{jQuery("#selected_"+m.id).css("display","block")}jQuery("#"+m.id+"_input").val(""+s);jQuery("#selected_"+m.id+" > div").parent(".selected_items").children(".selected_items_inner").stop(true,true).animate({"max-height":"0px","overflow-y":"hidden"},0);jQuery("#selected_"+m.id+" > div > div").children(".plus_minus").removeClass("minus")}}consoleLog("End combo Func");if(m.onChange){jQuery("#"+m.id+"_popup").find(".select_action").find("input").change(m.onChange)}}function createPreSelectText(E,B,A,D){if(B[D+"_"+E]){var C="other_"+D+"_";if(A[E+""]){C="top_"+D+"_"}return'<div data-parent="'+D+'" data-id="'+C+E+'" onclick="remove_all(this);" class="selected_item" > <div class="left">'+B[D+"_"+E]+'</div> <div class="right iconclose"></div> <div class="clear_both"></div></div> '}else{return""}}function createPreSelectClusterText(G,C,E,B){if(C[G]){var D="cluster_"+E+"_";var F="remove_all(this)";var A=D+G;if(B){F="remove_select_action_parent(this)";A=E+"_accord_"+E+"_"+G}return'<div data-parent="'+E+'" data-id="'+A+'" onclick="'+F+';" class="selected_item" > <div class="left">'+C[G]+'</div> <div class="right iconclose"></div> <div class="clear_both"></div></div> '}else{return""}}function createSingleSelectCombo(I){var H="";var N="";var B="";var C="";var L=48;var A=I.heightOptions?I.heightOptions:"";if(I.width){var M=parseInt(I.width)+24;B='style="width:'+I.width+'px !important;"';C="width:"+I.width+"px;";L=parseInt(I.width)-35}if(I.width_txt){L=parseInt(I.width_txt)}var K="";if(I.label){K=I.label}else{K=I.options[0].values}var J="";if(I.preSelected){J=I.preSelected}else{J=I.options[0].id}for(var E=0;E<I.options.length;E++){N+=createSingleSelectComboOption({id:I.options[E].id,values:I.options[E].values},I.id)}var G="dropdown_smaller_wrapper";G=I.wrapperClass?I.wrapperClass:G;var F=I.wrapperImageClass?I.wrapperImageClass:"";var D="";if(I.animateScroll){D="animatescroll"}H='  <div class="left open_singleselect '+D+'"> <div class="'+G+'" '+B+' id = "'+I.id+'_id" tabindex = "1" >                 	<div class="left" id="'+I.id+'" data-value="'+I.id+'" style="width:'+L+'px;padding: 0px 5px 0px 5px;" tabindex="'+I.tabindex+'" monstab="'+I.monstab+'">'+K+'</div>                      <input name="'+I.valueVariableName+'" value="'+J+'" data-value="'+I.id+'" type="hidden" id="'+I.id+'_val" >                     <div class="right clip_image"></div>                     </div>                     <div class="clear_both"></div>                      <div style="display: none;'+C+";"+A+'" class="single_select" data-id="parent_'+I.id+'">                     	<ul class="options"> '+N+'                                                                        </ul>                      </div>                 </div>                 <div class="clear_left"></div>                                                              ';jQuery("#"+I.replaceWithId).html(H);if(I.preSelected){jQuery("#"+I.id).text(jQuery("#"+I.replaceWithId).find(".option_item[data-id='"+I.preSelected+"']").text())}if(I.onChange){jQuery("#"+I.id+"_val").change(I.onChange)}}function createSingleSelectComboOption(A,B){return'<li><a href="#" class="option_item" data-value="'+B+'" data-id="'+A.id+'">'+A.values+"</a></li>"}function functionCallBack(){}var jPreTabindex=1;var JPrevTDiv="";var jpDiv;function TabNavigation(F,A,H){var B=F.shiftKey?true:false;var J="";JPrevTDiv=A.find(":focus,.monstabcls");if(JPrevTDiv.attr("monstab")){jPreTabindex=JPrevTDiv.attr("monstab");jpDiv=JPrevTDiv}else{if(jpDiv){JPrevTDiv=jpDiv}}var G=JPrevTDiv.attr("class");var C=JPrevTDiv.attr("id");var I="";if(B){I=parseInt(jPreTabindex)-1}else{I=parseInt(jPreTabindex)+1}J=findDiv(I,A);JPrevTDiv.removeClass("dropdown_small_active monstabcls").blur();if(F.keyCode==9){jQuery(".overlay").click();var E=J.attr("id");var D=J.parent().attr("id");J.addClass("monstabcls");if(J.is(":radio")){J.focus()}else{if(J.is(":submit")||J.is(":file")){J.focus()}else{if(J.is(":text")){J.focus().click()}else{if(J.is(":checkbox")){J.focus()}else{if(J.is("textarea")){J.click().focus()}else{J.click();if(jQuery(".single_select ul :visible")){jQuery(".single_select ul li :visible").first().focus()}}}}}}A.animate({scrollTop:J.position().top});if(typeof E!="undefined"&&typeof D!="undefined"&&D.match(/_parent/g)){jQuery("#"+E+"_typeahead").addClass("dropdown_small_active")}if(I>0&&I<=H){F.stopPropagation();F.preventDefault()}}if(F.keyCode==32){if(typeof G!=="undefined"&&G.match(/show_synonym/g)){jQuery(".show_synonym .check_select").click()}if(typeof C!=="undefined"&&C=="radExcludediv"){jQuery("#radExcludediv .check_select").click()}if(typeof C!=="undefined"&&C.match(/lrtochk|Exconfresdiv|location_check/g)){jQuery("#"+C+" .check_select").click()}else{keyPressAfterOpen(F)}}if(F.keyCode==27){if(jQuery(".single_select").css("display")=="block"){jQuery(".single_select").css({display:"none"})}}if((F.which>=65&&F.which<=90)||(F.which>=97&&F.which<=122)||(F.which==40)||(F.which==38)&&jQuery("#"+popupid+"_typeahead").is(":focus")==true){keyPressAfterOpen(F)}}function findDiv(B,A){return(A.find("div,input,textarea").filter(function(){return jQuery(this).attr("monstab")==B}).first())}var keyd;var keypopupid;var objs;var allObjs;var indexes=new Array();var currentIndex=0;function keyPressAfterOpen(B){if(jQuery("#"+popupid+"_popup").css("display")=="block"){B.preventDefault();allObjs=jQuery("#"+popupid+"_popup").find(".traverseKeyboard:visible");var C=parseInt(jQuery("#"+popupid+"_popup").scrollTop());var E=parseInt(allObjs.filter(":eq("+currentIndex+")").length>0?allObjs.filter(":eq("+currentIndex+")").position().top:0);if(((B.which>=65&&B.which<=90)||(B.which>=97&&B.which<=122))&&jQuery("#"+popupid+"_popup").css("display")=="block"){var D=String.fromCharCode(B.which);if(keypopupid!=popupid){currentIndex=0}if(keypopupid!=popupid||keyd!=D){objs=jQuery("#"+popupid+"_popup").find(".traverseKeyboard:visible").filter(":starts('"+D+"')");indexes=[];objs.each(function(){indexes.push(allObjs.index(jQuery(this)))});currentIndex=valueGreaterThan(currentIndex+1,indexes)}else{currentIndex=valueGreaterThan(currentIndex+1,indexes)}C=parseInt(jQuery("#"+popupid+"_popup").scrollTop());allObjs.filter(':visible"').removeClass("selectitem_bg");E=parseInt(allObjs.filter(":eq("+currentIndex+")").length>0?allObjs.filter(":eq("+currentIndex+")").position().top:0);jQuery("#"+popupid+"_popup").animate({scrollTop:C+E},0);allObjs.filter(":eq("+currentIndex+")").addClass("selectitem_bg")}else{if(B.which==32){jQuery("#"+popupid+"_popup").find(".selectitem_bg").first().click();B.preventDefault()}else{if(B.which==27){jQuery(".overlay").click()}else{if(B.which==40){indexes=[];allObjs.each(function(){indexes.push(allObjs.index(jQuery(this)))});jQuery("#"+popupid+"_popup").animate({scrollTop:C+E},0);currentIndex=valueGreaterThan(currentIndex+1,indexes);var A=currentIndex-1;allObjs.filter(":eq("+currentIndex+")").addClass("selectitem_bg");if(indexes[0]==currentIndex){A=indexes.length-1}allObjs.filter(":eq("+A+")").removeClass("selectitem_bg")}else{if(B.which==38){indexes=[];allObjs.each(function(){indexes.push(allObjs.index(jQuery(this)))});jQuery("#"+popupid+"_popup").animate({scrollTop:C-E},0);currentIndex=valueGreaterThan(currentIndex-1,indexes);var A=currentIndex+1;allObjs.filter(":eq("+currentIndex+")").addClass("selectitem_bg");allObjs.filter(":eq("+A+")").removeClass("selectitem_bg")}}}}}keypopupid=popupid;keyd=D}}function valueGreaterThan(C,A){if(A.length==0){return -1}for(var B=0;B<A.length;B++){if(A[B]>=C){return A[B]}}return A[0]};